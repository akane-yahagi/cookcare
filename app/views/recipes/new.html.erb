</body>
    <%= form_for @recipe do |f| %>
        <div class="nav">
            <%= link_to "Cookcare", recipes_path, class: "title" %>
            <%= f.submit "Post", class: "new-btn" %>
            <%= f.submit "Save", class: "new-btn" %>
            <%= f.submit "Delete", class: "new-btn" %>
        </div>
        <div class="recipe-wrapper clearfix">
            <div class="side-container"></div>
            <div class="main-container">
                <div class="new-section clearfix">
                    <div class="new-left-section">
                        <div class="title-box">
                            <p>Title</p>
                            <%= f.text_field :title, class: "title-blank" %>
                        </div>
                        <div class="category-box">
                            <p>Category</p>
                            
                            <%= f.fields_for :categories do |ff| %>
                                <% @categories.each.with_index(1) do |category, index| %>
                                    <%= ff.check_box :categories, {multiple: true}, category, nil %>
                                    <%= category.name %>
                                    
                                    <% if index == 5 %>
                                        <br>
                                    <% end %>
                                <% end %>
                                <!--:categoriesなのか。categoryテーブルnameカラムだから:nameだと思うがエラーが出る-->
                                <!--recipeテーブル内にnameカラムがないからエラー発生。form_forは1つのモデルに対してだから-->
                                <!--form_tagだとエラー発生しないと思われる-->
                            <% end %>
                        </div>
                        <div class="ingredient-box">
                            <p>Ingredients</p>
                            <%= f.fields_for :ingredients do |ff| %>
                                <%= ff.select :name, Ingredient.all.map{ |v| [v.name] } %>
                            <% end %>
                            <%= f.fields_for :recipe_ingredients do |ff| %>
                             <%= ff.text_field :quantity, placeholder: "quantity" %>
                            <% end %>
                        </div>
                    </div>
                    <div class="new-right-section">
                        <%= f.file_field :recipe_image, placeholder: "Photos", class: "photo-box" %>
                        
                        <div class="step-box">
                            <p>Steps</p>
                            <%= f.fields_for :steps do |step| %>
                                <div class="field">
                                    <%= render 'step_fields', f: step %>
                                </div>
                            <% end %>
                            <div class="links">
                                <%= link_to_add_association "Add Step",f, :steps, class: "step-btn" %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <% end %>
<body>
    